<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{_layout :: header( ~{::title}, _, _ )}">

    <title>Gestion des produits</title>
</head>

<body>

    <nav th:replace="~{_layout :: menu}"></nav>
    <div class="container mt-2">
        <h1 th:if="${produit.id == null}">Ajout d'un produit <i class="fa-solid fa-kiwi-bird fa-spin-pulse"></i></h1>
        <h1 th:if="${produit.id != null}">Modification d'un produit <i class="fa-solid fa-kiwi-bird fa-spin-pulse"></i>
        </h1>
        <form method="POST" th:object="${produit}" th:action="@{/produitSave}">
            <input type="hidden" name="p" th:value="${p}" />
            <input type="hidden" name="s" th:value="${s}" />
            <input type="hidden" name="mc" th:value="${mc}" />
            <input type="hidden" th:field="*{id}" />
            <div class="form-group">
                <label for="nom"></label>
                <input th:field="*{nom}" id="nom" type="text" class="form-control"
                th:classappend="${#fields.hasErrors('nom')}? 'is-invalid' : ''">
                <div class="invalid-feedback" th:errors="*{nom}"></div>

            </div>
            <div class="form-group">
                <label for="prix"></label>
                <input th:field="*{prix}" id="prix" type="text" class="form-control" th:classappend="${#fields.hasErrors('prix')}? 'is-invalid' : ''">
                <div class="invalid-feedback" th:errors="*{prix}"></div>
            </div>
            <div class="form-group">
                <label for="quantite"></label>
                <input th:field="*{quantite}" id="quantite" type="text" class="form-control " th:classappend="${#fields.hasErrors('quantite')}? 'is-invalid' : ''">
                <div class="invalid-feedback" th:errors="*{quantite}"></div>
            </div>

            <div class="mt-2">
                <button class="btn btn-outline-primary" type="submit">Valider</button>
                <a th:href="@{/produits(p=${p}, s=${s}, mc=${mc})}" class="btn btn-outline-warning">Annuler</a>
            </div>
        </form>
    </div>
</body>

</html>